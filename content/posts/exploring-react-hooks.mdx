---
title: A Deep Dive into useEffect
description: An in-depth look at the useEffect hook in React and how to use it effectively
date: 2024-02-15
---

# Understanding React's useEffect Hook

React's `useEffect` hook is a powerful tool for managing side effects in functional components. Let's explore its intricacies and best practices.

## Basic Usage

Here's a simple example of using `useEffect` to log a message when a component mounts:

```typescript
import React, { useEffect, useState } from 'react';

const ExampleComponent: React.FC = () => {
  const [count, setCount] = useState(0);

  useEffect(() => {
    // This runs after every render
    console.log(`The count is now: ${count}`);

    // Optional cleanup function
    return () => {
      console.log('Component is unmounting or re-rendering');
    };
  }, [count]); // Only re-run when count changes

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        Increment
      </button>
    </div>
  );
};

export default ExampleComponent;
```

## Key Concepts

### Dependency Array

The dependency array is crucial in controlling when the effect runs:

- `useEffect(() => { ... })` - Runs after every render
- `useEffect(() => { ... }, [])` - Runs only on mount and unmount
- `useEffect(() => { ... }, [someValue])` - Runs when `someValue` changes

### Common Use Cases

1. **Data Fetching**
2. **Subscriptions**
3. **Manual DOM Manipulations**

## Performance Considerations

Always be mindful of the dependencies you include in the effect hook. Unnecessary dependencies can lead to performance issues and unexpected re-renders.

## Pro Tip

```typescript
// Anti-pattern: Creating functions inside useEffect
useEffect(() => {
  const handleScroll = () => {
    // Scroll handling logic
  };

  window.addEventListener('scroll', handleScroll);

  // Cleanup
  return () => {
    window.removeEventListener('scroll', handleScroll);
  };
}, []); // Empty dependency array
```

## Conclusion

Mastering `useEffect` takes practice. Remember to:
- Use the dependency array wisely
- Always provide cleanup functions
- Avoid unnecessary re-renders

Happy coding! ðŸš€
